apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'java-library-distribution'

def distFolder = file("dist")
def projectName = 'bloom-filter'

version = "1.0-SNAPSHOT"
group = "com.baqend"

repositories {
    mavenCentral()
}

dependencies {
    compile (
        'com.google.code.gson:gson:2.2.4',
        'redis.clients:jedis:2.5.1',
        'org.apache.commons:commons-pool2:2.2'
    )
    testCompile (
        'junit:junit:4.11',
        'org.apache.commons:commons-math:2.2'
    )
}

distributions {
    main {
        contents {
            include('**/bloom-filter*')
        }
    }
}

test.ignoreFailures = true
jar.baseName = projectName
distZip.baseName = projectName
distZip.destinationDir = distFolder

task dist(dependsOn: distZip, type:Jar){
    baseName = projectName
    from sourceSets.main.allSource
    destinationDir distFolder
    classifier = 'source'
}


